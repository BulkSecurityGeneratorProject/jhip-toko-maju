<div>
    <h2 id="page-heading">
        <span jhiTranslate="jhiptokomajuApp.saleReport.detail.title">Sale Reports Detail</span>
    </h2>
    <jhi-alert></jhi-alert>
    <div class="row">
        <div class="col-md-4">
            <div class="input-group w-100 mt-3">
                <input type="date" class="form-control col-form-label-sm" name="start" [(ngModel)]="fromDate" required />
                <input type="date" class="form-control col-form-label-sm ml-1" name="end" [(ngModel)]="endDate" required />
                <button class="input-group-append btn btn-info" (click)="search()">
                    <fa-icon [icon]="'search'"></fa-icon>
                </button>
            </div>
        </div>
    </div>
    <div *ngFor="let detail of saleDetailReports">
        <div class="clearfix mt-3">
            <div class="float-left"><strong>Customer:</strong> {{ detail.customerFullName }}</div>
            <div class="float-right"><strong>Project:</strong> {{ detail.projectName }}</div>
        </div>
        <div class="table-responsive mt-3">
            <table class="table table-sm table-striped">
                <thead>
                    <tr>
                        <th>
                            <span jhiTranslate="jhiptokomajuApp.saleTransactions.saleDate">Sale Date</span>
                        </th>
                        <th><span jhiTranslate="jhiptokomajuApp.product.barcode">Barcode</span></th>

                        <th>
                            <span jhiTranslate="jhiptokomajuApp.product.name">Name</span>
                        </th>
                        <th>
                            <span jhiTranslate="jhiptokomajuApp.product.unit">Unit</span>
                        </th>
                        <th>
                            <span jhiTranslate="jhiptokomajuApp.product.sellingPrice">Selling Price</span>
                        </th>
                        <th>
                            <span jhiTranslate="jhiptokomajuApp.saleItem.quantity">Quanity</span>
                        </th>
                        <th>
                            <span jhiTranslate="jhiptokomajuApp.saleItem.totalPrice">Total Price</span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let report of detail.products; let i = index">
                        <td>{{ report.createdDate }}</td>
                        <td>{{ report.barcode }}</td>
                        <td>{{ report.name }}</td>
                        <td>{{ report.unitName }}</td>
                        <td>{{ report.sellingPrice | currency: 'IDR':'Rp. ' }}</td>
                        <td>{{ report.quantity }}</td>
                        <td>{{ report.totalPrice | currency: 'IDR':'Rp. ' }}</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr *ngIf="detail.products.length > 0">
                        <th colspan="6"></th>
                        <th>
                            {{ detail.totalPayment | currency: 'IDR':'Rp. ' }}
                        </th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div class="justify-content-center" *ngIf="saleDetailReports.length > 0">
        <div class="col-md-12">
            <div class="clearfix">
                <button type="button" class="btn btn-sm btn-success float-left">
                    <fa-icon [icon]="'print'"></fa-icon>
                    <span jhiTranslate="entity.action.print">Print</span>
                </button>
                <button type="button" class="btn btn-sm btn-success float-right" (click)="exportToExcel()">
                    <fa-icon [icon]="'file-excel'"></fa-icon>
                    <span jhiTranslate="entity.action.extractToExcel">Extract To Excel</span>
                </button>
            </div>
        </div>
    </div>
</div>
