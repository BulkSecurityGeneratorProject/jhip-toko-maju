<div>
    <h2 id="page-heading">
        <span jhiTranslate="jhiptokomajuApp.stockOrder.process.title">Process Stock Order</span>
    </h2>
    <jhi-alert></jhi-alert>
    <div class="row">
        <div class="col-md-12">
            <div class="input-group w-100 mt-3">
                <div class="input-group">
                    <input
                        type="file"
                        class="form-control"
                        style="display: inline-block;"
                        placeholder="Upload file"
                        (change)="incomingfile($event)"
                        accept=".xlsx"
                    />
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="menu" (click)="importFile()" [disabled]="!file">
                            Load
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-3">
        <form name="processForm" role="form" novalidate #processForm="ngForm">
            <div class="table-responsive">
                <table class="table table-sm table-striped">
                    <thead>
                        <th><span jhiTranslate="jhiptokomajuApp.product.barcode">Barcode</span></th>
                        <th><span jhiTranslate="jhiptokomajuApp.product.name">Product Name</span></th>
                        <th><span jhiTranslate="jhiptokomajuApp.saleTransactions.quantity">Quantity</span></th>
                        <th><span jhiTranslate="jhiptokomajuApp.stockOrderRequest.stockInHand">Stock in Hand</span></th>
                        <th><span jhiTranslate="jhiptokomajuApp.stockOrderRequest.adjust">Adjust</span></th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let order of stockOrderProcess; let i = index">
                            <td>{{ order.barcode }}</td>
                            <td>{{ order.name }}</td>
                            <td>{{ order.quantityRequest }}</td>
                            <td>{{ order.stockInHand }}</td>
                            <td>
                                <input
                                    type="number"
                                    class="form-control"
                                    name="quantity{{ i }}"
                                    id="field_quantity"
                                    [(ngModel)]="order.quantityApprove"
                                    min="1"
                                    jhiMin="1"
                                    [max]="order.stockInHand"
                                    [jhiMax]="order.stockInHand"
                                />
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="text-right" *ngIf="stockOrderProcess.length > 0">
                <button
                    id="jh-extract-product"
                    class="btn btn-info float-right jh-extract-product extract-product"
                    [disabled]="processForm.invalid"
                    (click)="saveAndExport()"
                >
                    <fa-icon [icon]="'file-excel'"></fa-icon>
                    <span jhiTranslate="entity.action.extractToExcel">Extract To Excel</span>
                </button>
            </div>
        </form>
    </div>
</div>
